{% extends "base.html" %}
{% block title %}
  Страница пользователя {{ profile.username }}
{% endblock %}
{% block content %}
  <section class="forum-hero">
    <h1>@{{ profile.username }}</h1>
    <p>Личный профиль участника форума.</p>
    <div class="profile-meta">
      <span class="profile-pill">
        Имя: {% if profile.get_full_name %}{{ profile.get_full_name }}{% else %}
          не указано
        {% endif %}
      </span>
      <span class="profile-pill">Регистрация: {{ profile.date_joined }}</span>
      <span class="profile-pill">
        Роль: {% if profile.is_staff %}Администратор{% else %}Пользователь{% endif %}
      </span>
    </div>
    {% if user.is_authenticated and request.user == profile %}
      <div class="d-flex flex-wrap gap-2">
        <a class="btn btn-sm btn-outline-primary" href="{% url 'blog:edit_profile' %}">
          Редактировать профиль
        </a>
        <a class="btn btn-sm btn-outline-primary" href="{% url 'password_change' %}">
          Изменить пароль
        </a>
      </div>
    {% endif %}
  </section>
  {% for post in page_obj %}
    <article class="mb-5">
      {% include "includes/post_card.html" %}
    </article>
  {% endfor %}
  {% include "includes/paginator.html" %}
{% endblock %}
